import{k as c,S as b,r as o,o as k,c as N,d as a,w as e,f as i,t as r,l as _,q as L}from"./index-q4eErpSh.js";const T={class:"w-full lg:w-9/12 ma-content-block rounded-sm p-3 mt-3"},B=_("div",{class:"flex justify-between"}," 系统公告 ",-1),C=["innerHTML"],H={__name:"st-announced",setup(V){const p=c([]),m=b([{title:"标题",dataIndex:"title",slotName:"title"},{title:"发布时间",dataIndex:"created_at",width:180,align:"right"}]),n=c({}),l=c(!1),f=async s=>{n.value=s,l.value=!0};return(async()=>{const s=await L.getNoticeList({pageSize:5,orderBy:"id",orderType:"desc"});p.value=s.data.items})(),(s,d)=>{const g=o("a-link"),v=o("a-table"),y=o("a-typography-title"),h=o("a-space"),u=o("a-typography-paragraph"),x=o("a-typography"),w=o("a-modal");return k(),N("div",T,[B,a(v,{data:p.value,columns:m,class:"mt-2",pagination:!1},{title:e(({record:t})=>[a(g,{onClick:S=>f(t)},{default:e(()=>[i(r(t.title),1)]),_:2},1032,["onClick"])]),_:1},8,["data","columns"]),a(w,{visible:l.value,"onUpdate:visible":d[0]||(d[0]=t=>l.value=t),fullscreen:"",footer:!1},{title:e(()=>[i("公告详情")]),default:e(()=>[a(x,{style:{marginTop:"-30px"}},{default:e(()=>[a(y,{class:"text-center"},{default:e(()=>{var t;return[i(r((t=n.value)==null?void 0:t.title),1)]}),_:1}),a(u,{class:"text-right",style:{"font-size":"13px",color:"var(--color-text-3)"}},{default:e(()=>[a(h,{size:"large"},{default:e(()=>{var t;return[_("span",null,"创建时间："+r((t=n.value)==null?void 0:t.created_at),1)]}),_:1})]),_:1}),a(u,null,{default:e(()=>{var t;return[_("div",{innerHTML:(t=n.value)==null?void 0:t.content},null,8,C)]}),_:1})]),_:1})]),_:1},8,["visible"])])}}};export{H as default};
